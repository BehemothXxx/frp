(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card",attrs:{id:"app"}},[r("el-steps",{directives:[{name:"show",rawName:"v-show",value:3!=e.step,expression:"step != 3"}],staticClass:"step",attrs:{active:e.step,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"用前必读"}}),r("el-step",{attrs:{title:"读取分区"}}),r("el-step",{attrs:{title:"选择文件"}}),r("el-step",{attrs:{title:"下载并刷入"}})],1),r("div",{staticClass:"content"},[r("section",{directives:[{name:"show",rawName:"v-show",value:0==e.step,expression:"step == 0"}]},[r("p",[e._v("请仔细阅读下列文字：")]),r("ol",[r("li",[e._v("不是所有手机都适用")]),r("li",[e._v("解锁可能会使你丧失保修")]),r("li",[e._v("本页面是"),r("a",{attrs:{href:"https://github.com/xingrz/frp"}},[e._v("纯 HTML5 编写")]),e._v("，没有后台，不会存储你所上传的数据")]),r("li",[e._v("本页面肆无忌惮地使用了很多尖端的 HTML5 技术，如果它不正常，请换一个新的浏览器")]),r("li",[e._v("谨慎决定，使用即表明你愿意自行承担风险")])]),r("div",{staticClass:"nav"},[r("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("明白，下一步")])],1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step == 1"}]},[r("p",[e._v("读出你的 FRP 分区，存为 frp.bin。")]),r("p",[e._v("至于怎么读取，不在本工具的解释范畴内。如果不清楚，建议询问有经验的开发人员。")]),r("div",{staticClass:"nav"},[r("el-button",{on:{click:e.previous}},[e._v("上一步")]),r("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")])],1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step == 2"}]},[r("el-upload",{staticClass:"upload-demo",staticStyle:{"text-align":"center","margin-top":"80px"},attrs:{drag:"",action:"javascript:","http-request":e.upload,"show-file-list":!1}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将 frp.bin 拖到此处，或"),r("em",[e._v("点击选取")])])]),r("div",{staticClass:"nav"},[r("el-button",{on:{click:e.previous}},[e._v("上一步")]),r("el-button",{attrs:{type:"primary",disabled:""}},[e._v("下一步")])],1)],1),r("section",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}]},[r("div",{staticStyle:{"text-align":"center","margin-top":"80px","margin-bottom":"40px"}},[r("el-progress",{attrs:{type:"circle",percentage:e.url?100:0,status:e.url?"success":""}})],1),r("div",{staticStyle:{"text-align":"center"}},[r("p",[e._v("恭喜，文件已生成完毕。")]),r("p",[e._v("接下来请点击下面的按钮把文件下载回来，然后刷回 FRP 分区里。")]),r("p",[e._v("同样地，怎么刷入，不在本工具的解释范畴内。"),r("br"),e._v("如果不清楚，建议询问有经验的开发人员。")]),r("p",{staticStyle:{"margin-top":"40px"}},[r("a",{attrs:{download:"frp-unlocked.bin",href:e.url}},[r("el-button",{attrs:{type:"primary"}},[e._v("点此下载")])],1)]),r("p",[r("el-button",{attrs:{type:"text"},on:{click:e.reset}},[e._v("重新开始")])],1)])])])],1)},s=[],i=(r("cb29"),r("a15b"),r("d81d"),r("fb6a"),r("ace4"),r("d3b7"),r("25f0"),r("3ca3"),r("4d90"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),o=32;function c(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){return t(new Uint8Array(e.target.result))},n.onabort=function(){return t(null)},n.onerror=function(e){return r(e)},n.readAsArrayBuffer(e)}))}function u(e){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fill(0,0,o),e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 5:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return e.map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function f(e){return new Promise((function(t){setTimeout(t,e)}))}var d={name:"app",components:{},data:function(){return{step:0,url:null}},methods:{previous:function(){this.step--},next:function(){this.step++},reset:function(){this.url=null,this.step=0},upload:function(e){var t=this,r=e.file;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(r.size<1024)){e.next=3;break}return t.$message.error("文件大小不足 1KB，看起来不像是个 frp.bin"),e.abrupt("return");case 3:if(!(r.size>1048576)){e.next=6;break}return t.$message.error("文件大小超过 1MB，看起来不像是个 frp.bin"),e.abrupt("return");case 6:return e.next=8,c(r);case 8:return n=e.sent,console.log("read data, length: ".concat(n.length/1024,"KB")),a=n.slice(0,o),console.log("original hash: ".concat(p(a))),e.next=14,u(n);case 14:if(s=e.sent,console.log("computed hash: ".concat(p(s))),a.toString()==s.toString()){e.next=19;break}return t.$message.error("这看起来不是一个正常的 frp.bin"),e.abrupt("return");case 19:return n[n.length-1]=1,e.next=22,u(n);case 22:return i=e.sent,console.log("final hash: ".concat(p(i))),n.set(i,0),l=new Blob([n.buffer]),d=window.URL.createObjectURL(l),t.step++,e.next=30,f(100);case 30:t.url=d;case 31:case"end":return e.stop()}}),e)})))()}}},v=d,b=(r("034f"),r("2877")),h=Object(b["a"])(v,a,s,!1,null,null,null),m=h.exports,g=(r("0fae"),r("9e2f")),w=r.n(g);n["default"].use(w.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.be8abedd.js.map